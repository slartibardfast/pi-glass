name = "pi-glass"
listen = "0.0.0.0:8080"
db_path = "/opt/pi-glass/pi-glass.db"
poll_interval_secs = 30
ping_timeout_secs = 2
retention_days = 7
# Enable WAL journal mode for concurrent read/write access (e.g. when running pi-glass-mailer).
# Requires a POSIX filesystem that supports shared memory — NOT supported on all Pi/overlayfs mounts.
# WARNING: WAL mode is stored in the database file header. To move the database back to a system
# that doesn't support WAL, downgrade it first:
#   sqlite3 pi-glass.db "PRAGMA wal_checkpoint(TRUNCATE); PRAGMA journal_mode=DELETE;"
# wal_mode = true

[[hosts]]
addr = "192.168.1.1"
label = "Gateway"

# External service checks
# icon: google, bing, cloudflare, dns, youtube, outlook, whatsapp (built-in keys)
# icon_data: optional base64 data URI override (e.g. "data:image/png;base64,...")
# check: "ping" (ICMP), "tcp" (TCP connect), "dns" (UDP query)

[[services]]
label = "Google"
icon = "google"
check = "ping"
target = "google.com"

[[services]]
label = "Cloudflare"
icon = "cloudflare"
check = "tcp"
target = "cloudflare.com:443"

[[services]]
label = "YouTube"
icon = "youtube"
check = "tcp"
target = "youtube.com:443"

[[services]]
label = "Outlook"
icon = "outlook"
check = "tcp"
target = "outlook.com:443"

[[services]]
label = "WhatsApp"
icon = "whatsapp"
check = "tcp"
target = "web.whatsapp.com:443"

[[services]]
label = "Cloudflare DNS"
icon = "cloudflare"
check = "dns"
target = "1.1.1.1"

[[services]]
label = "Google DNS"
icon = "google"
check = "dns"
target = "8.8.8.8"

[[services]]
label = "Quad9 DNS"
icon = "quad9"
check = "dns"
target = "9.9.9.9"

# ── Daily email report (pi-glass-mailer) ──────────────────────────
# Remove the # from each line and fill in your Mailgun credentials.
# [mailer]
# mailgun_domain  = "mg.example.com"
# mailgun_api_key = "key-..."
# from            = "pi-glass <monitoring@mg.example.com>"
# to              = ["you@example.com"]
# subject         = "pi-glass daily report"
# send_at         = "08:00"
